<!DOCTYPE html>
<html>
<head>
  <title>Companion Bloom Logs</title>
  <link rel="stylesheet" href="../style.css">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>
<body>
  <h1>ðŸŒ± Companion Bloom Logs</h1>
  <pre id="bloom-log"></pre>

  <div id="bootbark" style="display:none;">
    <h2>Bootbark Bloomed</h2>
    <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_9xkdsz1q.json"
                   background="transparent" speed="1" loop autoplay></lottie-player>
  </div>

  <div id="tessalyre" style="display:none;">
    <h2>Tessalyre Bloomed</h2>
    <lottie-player src="https://assets2.lottiefiles.com/packages/lf20_3vbOcw.json"
                   background="transparent" speed="1" loop autoplay></lottie-player>
  </div>

  <script>
    fetch('../pulse.log')
      .then(res => res.text())
      .then(data => {
        const log = document.getElementById("bloom-log");
        data.split('\n').forEach(line => {
          if (line.includes("bloom confirmed")) {
            const span = document.createElement("span");
            span.className = "bloom-log";
            span.textContent = line;
            log.appendChild(span);
            log.appendChild(document.createElement("br"));
          }
        });
        if (data.includes("Bootbark bloom confirmed")) {
          document.getElementById("bootbark").style.display = "block";
        }
        if (data.includes("Tessalyre bloom confirmed")) {
          document.getElementById("tessalyre").style.display = "block";
        }
      });
  </script>
</body>
</html>

